<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Bizim Hikaye</title>

<style>
*{box-sizing:border-box}
body{
  margin:0;
  background:black;
  color:white;
  font-family:Arial;
  text-align:center;
}
section{
  display:none;
  min-height:100vh;
  justify-content:center;
  align-items:center;
  flex-direction:column;
  padding:20px;
}
.show{display:flex}

/* FADE */
.fade{opacity:0;transition:opacity 1.5s}
.fade.showFade{opacity:1}

/* INPUT & BUTTON */
input{padding:10px;font-size:18px}
button{padding:10px 25px;font-size:18px;margin-top:20px}

/* SLAYT */
#media img,#media video{
  max-width:90%;
  max-height:70vh;
}

/* TEST */
.option{
  border:1px solid white;
  padding:12px;
  margin:10px;
  border-radius:8px;
  cursor:pointer;
}
.correct{background:#2ecc71;color:black}
.wrong{background:#e74c3c}

/* Ã–DÃœL */
.rewardBox{
  border:2px solid white;
  padding:20px;
  border-radius:15px;
  margin-bottom:20px;
}
.rewardBig{font-size:70px}

/* KALPLER */
.heart{
  font-size:80px;
  cursor:pointer;
  margin:20px;
  transition:opacity .5s,transform .3s;
}
.heart:hover{transform:scale(1.2)}
.hide{opacity:0;pointer-events:none}

/* FINAL */
.finalText{
  font-size:40px;
  opacity:0;
  transition:opacity 2s;
}
</style>
</head>

<body>

<audio id="music" loop>
  <source src="muzik.mp3" type="audio/mpeg">
</audio>

<!-- ÅÄ°FRE -->
<section id="lock" class="show">
  <h1>GiriÅŸ â¤ï¸</h1>
  <input id="pass" placeholder="Åifre">
  <button onclick="enter()">Gir</button>
</section>

<!-- SLAYT -->
<section id="slide">
  <div id="media" class="fade"></div>
</section>

<!-- TEST -->
<section id="quiz">
  <h2 id="q"></h2>
  <div id="opts"></div>
  <p id="fb"></p>
  <button id="nextBtn" onclick="nextQ()" style="display:none">Sonraki</button>
</section>

<!-- Ã–DÃœL -->
<section id="reward"></section>

<!-- KALPLER -->
<section id="heart">
  <h2>Kalbimi seÃ§ â¤ï¸</h2>
  <div>
    <span class="heart" onclick="pick(this,'Maalesef bu deÄŸil')">ğŸ¤</span>
    <span class="heart" onclick="pick(this,'HayÄ±rr yine yanlÄ±ÅŸ')">â¤ï¸</span>
    <span class="heart" onclick="pick(this,'Bu da doÄŸru deÄŸil')">ğŸ’</span>
  </div>
  <p id="heartMsg"></p>
</section>

<!-- FINAL -->
<section id="final">
  <div class="finalText" id="finalText">
    Ã‡ÃœNKÃœ KALBÄ°M HEP SENÄ°NLE ğŸ‘‰ğŸ’–
  </div>
</section>

<script>
/* MÃœZÄ°K */
const music=document.getElementById("music");

/* ÅÄ°FRE */
function enter(){
  if(pass.value==="060807"){
    lock.classList.remove("show");
    music.play(); // kullanÄ±cÄ± etkileÅŸimiyle baÅŸlar
    startSlide();
  }
}

/* SLAYT LÄ°STESÄ° */
const slides=[
 {t:"img",s:"foto1.jpg"},
 {t:"img",s:"foto2.jpg"},
 {t:"img",s:"foto3.jpg"},
 {t:"video",s:"video1.mp4"},
 {t:"img",s:"foto4.jpg"},
 {t:"video",s:"video2.mp4"},
 {t:"img",s:"foto5.jpg"},
 {t:"img",s:"foto6.jpg"},
 {t:"video",s:"video3.mp4"},
 {t:"img",s:"foto7.jpg"},
 {t:"img",s:"foto8.jpg"},
 {t:"video",s:"video4.mp4"},
 {t:"img",s:"foto9.jpg"},
 {t:"img",s:"foto10.jpg"},
 {t:"video",s:"video5.mp4"},
 {t:"img",s:"foto11.jpg"}
];

let si=0;

function startSlide(){
  slide.classList.add("show");
  showSlide();
}

function showSlide(){
  media.innerHTML="";
  media.classList.remove("showFade");

  let el;
  if(slides[si].t==="img"){
    el=document.createElement("img");
    el.src=slides[si].s;
    setTimeout(nextSlide,3000);
  }else{
    el=document.createElement("video");
    el.src=slides[si].s;
    el.autoplay=true;
    el.onended=nextSlide;
  }

  media.appendChild(el);
  setTimeout(()=>media.classList.add("showFade"),50);
}

function nextSlide(){
  si++;
  if(si<slides.length) showSlide();
  else{
    slide.classList.remove("show");
    startQuiz();
  }
}

/* TEST */
const questions=[
{q:"Benim sÃ¶yleyemediÄŸim kelime?",o:["Mutfak","Klavye","HapÃ¶rlÃ¶r","Åarj"],c:2},
{q:"Ben nerede doÄŸdum?",o:["Gaziantep","Ãœnye"],c:1},
{q:"GÃ¶bekli Tepe nerede?",o:["Sinop","Giresun","ÅanlÄ±urfa","Antep"],c:2},
{q:"En sevdiÄŸim hoca?",o:["Ahmet","Ferdi","Ayhan","Selim"],c:2},
{q:"En sevdiÄŸim koku?",o:["Boya","GÃ¼l","Lahmacun","KarÄ±mÄ±n kokusu"],c:3},
{q:"Benim dinim?",o:["Hristiyan","Ebrarizm","Budizm","Yahudi"],c:1},
{q:"YÃ¼rÃ¼meyi sevdiÄŸim yol?",o:["Orman","Sahil","Ä°stiklal","Kalbine giden"],c:3},
{q:"Gitmek istemediÄŸimiz yer?",o:["Sinop","Kapadokya","Ä°Ã§el","Adana"],c:3},
{q:"Telefonumda kayÄ±tlÄ±sÄ±n?",o:["AÅŸkÄ±m","EbrarÄ±m","Ay Tenli KadÄ±nÄ±m","Tantuni"],c:2},
{q:"En sevdiÄŸim hobi?",o:["Devre","Oyun","Okey","BebeÄŸimle vakit"],c:3}
];

let qi=0,score=0;

function startQuiz(){
  quiz.classList.add("show");
  loadQ();
}

function loadQ(){
  fb.innerText="";
  nextBtn.style.display="none";
  q.innerText=(qi+1)+". "+questions[qi].q;
  opts.innerHTML="";
  questions[qi].o.forEach((t,i)=>{
    let d=document.createElement("div");
    d.className="option";
    d.innerText=t;
    d.onclick=()=>checkQ(i,d);
    opts.appendChild(d);
  });
}

function checkQ(i,el){
  document.querySelectorAll(".option").forEach(o=>o.onclick=null);
  if(i===questions[qi].c){
    score++;
    el.classList.add("correct");
    fb.innerText="âœ” DoÄŸru";
  }else{
    el.classList.add("wrong");
    opts.children[questions[qi].c].classList.add("correct");
    fb.innerText="âœ˜ YanlÄ±ÅŸ";
  }
  nextBtn.style.display="block";
}

function nextQ(){
  qi++;
  if(qi<questions.length) loadQ();
  else{
    quiz.classList.remove("show");
    showReward();
  }
}

/* Ã–DÃœL */
function showReward(){
  reward.classList.add("show");
  reward.innerHTML=`
    <div class="rewardBox">
      <h2>Ä°ÅŸte Ã¶dÃ¼lÃ¼n</h2>
      <div class="rewardBig">ğŸ¤ğŸ˜</div>
      <p>(6-10)</p>
      <p>Ã–dÃ¼l: SarÄ±lmak + Ã–pÃ¼cÃ¼k + AÅŸk dolu bakÄ±ÅŸlar</p>
    </div>
    <div>ğŸ¥² (1-3) &nbsp;&nbsp; ğŸ˜˜ (3-6)</div>
    <button onclick="goHeart()">Sonraki</button>
  `;
}

function goHeart(){
  reward.classList.remove("show");
  heart.classList.add("show");
}

/* KALPLER */
function pick(el,text){
  heartMsg.style.opacity=0;
  setTimeout(()=>{
    heartMsg.innerText=text;
    heartMsg.style.opacity=1;
    el.classList.add("hide");
  },400);

  if(document.querySelectorAll(".heart:not(.hide)").length===1){
    setTimeout(endFinal,1500);
  }
}

/* FINAL */
function endFinal(){
  heart.classList.remove("show");
  final.classList.add("show");
  setTimeout(()=>finalText.style.opacity=1,300);
}
</script>

</body>
</html>